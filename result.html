<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <!-- FIXME -->
        <title>HPP Cellular Automaton on FPGA</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="index.html">HPP Cellular Automaton on FPGA</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="intro.html">Intro</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="hld.html">High Level Design</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="hwsw.html">HW/SW Design</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="result.html">Results & Conclusion</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="appendix.html">Appendix</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://github.com/qd39l/HPP-cellular-automaton-FPGA/tree/main/hpp_automata_src">Source Code</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('assets/img/flow-summary.png')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Results and Conclusion</h1>
                            <!-- <h2 class="subheading">Problems look mighty small from 150 miles up</h2> -->
                            <!-- <span class="meta">
                                Posted by
                                <a href="#!">Start Bootstrap</a>
                                on August 24, 2022
                            </span> -->
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-0 px-lg-0">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">

                        <center><iframe width="640" height="360" src="https://www.youtube.com/embed/KQd6q0IsZMc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>

                        <h2 class="section-heading">Results</h2>

                        <h3 class="section-subheading">User Interaction</h3> <!-- Kunpeng -->
                        <p>
                            As user interactivity is a core component of our project, we want the interaction experience to be as intuitive and seamless as possible. We used a combination of toggle switches, buttons, and mouse for user inputs. The user interface has been tested extensively through visual inspections by our team members. The usability has been confirmed by the course instructors as well as members from other teams.
                        </p>
                        <center><a href="#!"><img class="img-fluid" src="assets/img/HPP_UI.png" width = 800 alt="..." /></a></center>
                        <span class="caption text-muted"> User input devices </span>

                        <p>The function mapped to each input is listed below along with the timestamp demonstrating it in the video above.</p>
                        <ul class="list-unstyled">
                            <ul>
                                <li><code>SW0</code>: initialization mode - random particles [0:0]</li>
                                <li><code>SW1</code>: initialization mode - railgun beam through slit [0:14]</li>
                                <li><code>SW2</code>: initialization mode - particles at center [0:33]</li>
                                <li><code>SW3</code>: direction of particle generation - right [0:52]</li>
                                <li><code>SW4</code>: direction of particle generation - left [1:01]</li>
                                <li><code>SW5</code>: direction of particle generation - up [1:27]</li>
                                <li><code>SW6</code>: direction of particle generation - down [1:36]</li>
                                <li><code>SW7</code>: direction of particle generation - three sides [1:42]</li>
                                <li><code>SW8</code>: direction of particle generation - two sides </li>
                                <li><code>SW9</code>: direction of particle generation - four sides [1:39]</li>
                                <li><code>KEY0</code>: system reset</li>
                                <li><code>KEY1</code>: pause animation [5:00]</li>
                                <li><code>KEY2</code>: artist mode [4:55]</li>
                                <li><code>KEY3</code>: enable resize mouse cursor; middle mouse button - increase size [3:37]; right mouse button - decrease size [3:06]</li>
                                <li><code>Mouse-left</code>: add particles [3:41]</li>
                                <li><code>Mouse-middle</code>: add obstacles [3:12]</li>
                                <li><code>Mouse-right</code>: clear particles and obstacles [4:27]</li>
                            </ul>
                        </ul>

                        <h3 class="section-subheading">Rendering Quality</h3>

                        <p>
                            Our system is able to maintain the 60Hz frame rate with no visible pause or flicker in all situations, regardless of the number of particles currently on screen and whether there's an active user input. When sufficient particles are added to the grid, the simulation behaves as propagating waves instead of individual moving particles. In addition, we observed that regardless of the initial conditions, after a sufficiently long time, the particles defused into a uniform distribution.
                        </p>

                        <h3 class="section-subheading">FPGA Resource Utilization</h3> <!-- Owen -->

                        <p>
                            The flow summary report after hardware compilation shows resource utilization on the FPGA for this particular design. The picture below is a screenshot of the summary. Our design uses 32% of logic fabrics, 38% block memory, and 0% DSPs. An naive estimation would show that the resources on board could probably support rendering in 1080p @ 60Hz as well (with slight modifications). 
                        </p>

                        <center><a href="#!"><img class="img-fluid" src="assets/img/flow-summary.png" width = 500 alt="..." /></a></center>
                        <span class="caption text-muted"> Resource utilization </span>

                        <p>
                            The chip planner diagram below agrees with the flow summary report.
                        </p>

                        <center><a href="#!"><img class="img-fluid" src="assets/img/chip-planner-1.png" width = 400 alt="..." /></a></center>
                        <span class="caption text-muted"> Chip planner diagram </span>

                        <h3 class="section-subheading">Energy Efficiency</h3> <!-- Owen -->

                        <p>
                            We used Quartus PowerPlay to estimate power consumption of this design. The screenshot below is showing 1.6 W of power consumption for HPS and FPGA combined, with the HPS running at 100 MHz and IO toggle rate at 0.5 transitions/s. This is an aggressive estimation, meaning the actual power consumption will likely be lower. 
                        </p>

                        <center><a href="#!"><img class="img-fluid" src="assets/img/power-analysis.png" width = 500 alt="..." /></a></center>
                        <span class="caption text-muted"> Power analysis. Assuming HPS at 100 MHz, and IO toggle rate at 0.5 transitions/s. This is an aggressive estimation. </span>

                        <p>
                            We want to compare energy efficiency between our design and an expensive laptop SoC we have lying around. Analysis from Anandtech (picture below) shows ~10W of power consumption when running single-thread benchmarks. Our design uses 16% of the power while being ~10X faster (speed comparison measured with a C program compiled with <code>-Ofast</code> without graphics rendering). We would like to argue this is an impressive result.
                        </p>

                        <center><a href="#!"><img class="img-fluid" src="assets/img/m1-power.png" width = 500 alt="..." /></a></center>
                        <span class="caption text-muted"> M1 Max consumes ~10W when running single thread. (Picture from Anandtech)</span>

                        <h2 class="section-heading">Conclusion</h2>

                        <p>
                            We have built an HPP model simulator on a 640 x 480 screen with each pixel on the screen representing one grid cell. We achieved 60 frames per second of rendering speed with less than 50% of FPGA resource utilization. The design also features user interactions via toggle switches, buttons, and a mouse. We have also demonstrated speed/power advantages compared to a state-of-the-art high-end mobile SoC. All our initial design requirements are met. 
                        </p>

                        <p>
                            If given more time, we will attempt to add the following features into the project:
                            <ul class="list-unstyled">
                                <ul>
                                    <li>Comprehensive software suite for drawing custom bitmaps.</li>
                                    <li>Automatic resolution and refresh rate detection. This may require a different development board.</li>
                                    <li>Custom color palette.</li>
                                    <li>Moving from HPP model to FHP model.</li>
                                </ul>
                            </ul>
                        </p>

                        <p>
                            All reused code and design are given credits to in the <mark>HW/SW</mark> and <mark>Appendix</mark> section. We also used Altera's Parallel I/O Ports IP, which is distributed as part of the Quartus software. 
                        </p>

                        <p>
                            We do not see any patent/trademark concerns related to this project. Excluding components that are credited to external sources, other portions of the design are fabricated in-house.
                        </p>

                        <p>
                            This is an open source project through the MIT license.
                        </p>


                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <!-- <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="small text-center text-muted fst-italic">Copyright &copy; Your Website 2022</div>
                    </div>
                </div>
            </div>
        </footer> -->
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
